<html>
  <head>
    <script src="id3.js"></script>
    <script src="vis.min.js"></script>
  </head>
  <body>
    <a href="https://github.com/sswly/sswly.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
    <select id="data_type">
      <option>JSON</option>
      <option>CSV</option>
    </select>
    <button onClick="run()">Run</button>
    <br>
    <textarea  id="data" rows="3" cols="20">
      
    </textarea>
    <br>
    <h2>Testing</h2>
    <table id="test_table">
    </table>
    <hr><br>
    <h2>Learning</h2>
    <div id="customized_decision_tree" style="float:left;width:50%"></div>
    <div style="float:right;width:50%">
      <table id="sample_set">
      </table>
    </div>
    <script>
      function run() {
        var tableContent = "<tr><th>ID</th>";
        var data = JSON.parse(document.getElementById("data").value.replace(/(^\s*)|(\s*$)/g,""));
        console.log(JSON.stringify(data));
        Object.keys(data[0]).forEach(function(item, index){  
          tableContent += "<th>" + item + "</th>";
        });
        tableContent += "</tr>";
        data.forEach(function(row, index){  
          tableContent += "<tr><td></td>";
          Object.keys(row).forEach(function(cell, index){  
            tableContent += "<td>" + row[cell] + "</td>";
          });
          tableContent += "</tr>";
        });
        document.getElementById("sample_set").innerHTML = tableContent;
        ID3.learn(document.getElementById('sample_set'));
        var container = document.getElementById('customized_decision_tree');
        var option = {
          layout: {
              hierarchical: {
                  direction: "UD",
                  sortMethod: "directed"
              }
          },
        };
        var network = new vis.Network(container, ID3.decisionTree, option);
      }
    </script>
  </body>
</html
